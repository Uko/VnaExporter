<html><head><title>Number</title><link rel="stylesheet" type="text/css" href="../files/common.css"/><link rel="stylesheet" type="text/css" href="../files/stcode.css"/><link rel="stylesheet" type="text/css" href="../files/style.css"/><link rel="stylesheet" type="text/css" href="../files/vtip.css"/><script>/*<![CDATA[*/
document.WEBDOC_RELATIVE_DOCUMENT_ROOT ="../..";
document.WEBDOC_PHARO_VERSION ="'4.0'";
/*]]>*/</script><script src="../files/jQuery.js"></script><script src="../files/jQueryUi.js"></script><script src="../files/app.js"></script></head><body onload="onLoad()"><div id="header"><form accept-charset="utf-8" method="get" action="/" class="hidden" id="search"><div class="searchInput">Search: <input accesskey="s" placeholder="search" name="4" id="search_box" size="30" value="" onkeyup="$.ajax({&quot;url&quot;:&quot;/&quot;,&quot;data&quot;:[&quot;1&quot;,&quot;2=&quot;+encodeURIComponent($(&quot;#search_box&quot;).val())].join(&quot;&amp;&quot;)});$(&quot;#searchResults&quot;).load(&quot;/&quot;,&quot;3&quot;)" type="search" class="search"/></div><div id="searchResults"></div><div></div></form></div><div id="content"><h1 class="className">Number</h1><dl class="box"><dt>Subclass of: </dt><dd><span class="inheritName"><a class="object_link class_link" target="classView" title="Magnitude (class)" href="../class/Magnitude.html">Magnitude</a></span><ul class="fullTree"><li><a class="object_link class_link" target="classView" title="Number (class)" href="../class/Number.html">Number</a></li><li class="next"><a class="object_link class_link" target="classView" title="ProtoObject (class)" href="../class/ProtoObject.html">ProtoObject</a></li><li class="next"><a class="object_link class_link" target="classView" title="Object (class)" href="../class/Object.html">Object</a></li><li class="next"><a class="object_link class_link" target="classView" title="Magnitude (class)" href="../class/Magnitude.html">Magnitude</a></li></ul><a class="inheritanceTree">&oplus;</a></dd></dl><br/><div class="classComment"><h2 class="title">Overview</h2><div class="docString"><p><a class="stClassLiteral" href="class/Number.html/class/Class.html">Class</a> <a class="stClassLiteral" href="class/Number.html/class/Number.html">Number</a> holds the most general methods for dealing with numbers. Subclasses <a class="stClassLiteral" href="class/Number.html/class/Float.html">Float</a>, <a class="stClassLiteral" href="class/Number.html/class/Fraction.html">Fraction</a>, and <a class="stClassLiteral" href="class/Number.html/class/Integer.html">Integer</a>, and their subclasses, provide concrete representations of a numeric quantity.</p><p>All of <a class="stClassLiteral" href="class/Number.html/class/Number.html">Number</a>'s subclasses participate in a simple type coercion mechanism that supports mixed-mode arithmetic and comparisons.  It works as follows:  If self<a href="typeA"></a> op: arg<a href="typeB"></a> fails because of incompatible types, then it is retried in the following guise: (arg adaptTypeA: self) op: arg adaptToTypeA. This gives the arg of typeB an opportunity to resolve the incompatibility, knowing exactly what two types are involved.  If self is more general, then arg will be converted, and viceVersa.  This mechanism is extensible to any new number classes that one might wish to add to Pharo.  The only requirement is that every subclass of <a class="stClassLiteral" href="class/Number.html/class/Number.html">Number</a> must support a pair of conversion methods specific to each of the other subclasses of <a class="stClassLiteral" href="class/Number.html/class/Number.html">Number</a>.</p><h4>Implementation notes</h4><p>The implementation of #degreeCos and #degreeSin is such that results are exact for any multiple of 90.</p><p>Care is also taken to evaluate the sine between -90째 and 90째, this will avoid #degreesToRadians and i386 FPU sine function to accumulate round off errors due to approximate representation of pi. We can thus evaluate 240 degreeCos with at most 1 ulp error. It's not perfect, but better than previous implementation.</p><p>For cosine, we know that: cosd(x)=cosd(abs(x)) cosd(x)=sind(90-x) thus the trick is to evaluate: cosd(x)=sind(90-abs(x)) after appropriate modulo in [-180,180[ This way, we are sure to evaluate the sine between -90째 and 90째 The #degreesToRadians and #sin are used rather than #degreeSin to avoid cycles.</p><p>For sine, it would be necessary to evaluate either sind(x) if abs(x) &lt;=90 or sind(180-x) if abs(x) &gt;= 90 A possible implementation would be: | x | x := 90 + self \ 360 - 90. x &gt;= 180 ifTrue: <a>x := 180 - x</a>. ^x degreesToRadians sin We prefer evaluating cosd(90-x) thus providing a branch free implementation.</p></div></div><div class="instanceMethodSummary methodSummary" style="style: hidden"><h2 class="title">Instance Method Summary</h2><ul class="summary compact"><li><span class="summary_signature"><a href="#method/printVnaOn%253A">printVnaOn:</a></span></li></ul></div><div class="classMethodDetail methodDetail"><h2 class="title">Class Method Details</h2></div><div class="instanceMethodDetail methodDetail"><h2 class="title">Instance Method Details</h2><a name="method/printVnaOn%253A"></a><div class="method_details"><p class="signature">printVnaOn:</p><div class="docstring"><div class="discussion"></div></div><div class="tags"><h3>Overrides method from:<ul class="override"><li class="override_item"><a class="object_link method_link stSelector" target="classView" href="../class/Object.html#method/printVnaOn%253A">Object</a></li></ul></h3><h3>Overridden in:<ul class="override"><li class="override_item"><a class="object_link method_link stSelector" target="classView" href="../class/Fraction.html#method/printVnaOn%253A">Fraction</a></li></ul></h3></div><div class="source_code"><code class="methodSource"><span class="stSelector">printVnaOn:</span>&nbsp;<span class="stArgument">aStream</span>&nbsp;<div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Number.html#method/printOn%253A">printOn:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aStream</span></span></span></div></code></div></div></div></div><script type="text/javascript">/*<![CDATA[*/function onLoad(){};/*]]>*/</script></body></html>